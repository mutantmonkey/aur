# Maintainer: Constantin Lorenz <Cons27773964@aol.com>

pkgname=sandboxed-tor-browser
pkgver=0.0.9
pkgrel=1
torbrowserver=7.5a2 # for easier source access
pkgdesc="A sandboxed version of the Tor Browser, currently in alpha!"
arch=('x86_64')
url="https://trac.torproject.org/projects/tor/wiki/doc/TorBrowser/Sandbox/Linux"
license=('AGPL3')
depends=('bubblewrap' 'gtk3' 'gnome-themes-standard')
source=("https://www.torproject.org/dist/torbrowser/${torbrowserver}/sandbox-${pkgver}-linux64.zip"{,.asc}
        "${pkgname}.desktop"
        "${pkgname}.png")
sha256sums=('152cb5fcb07ef24f7b57078e493b1354cba0558f2591b9474610d5077c9acff3'
            'SKIP'
            '66888e2f94e56d72b7c41dc8d3cd99a2c72b5460d1f8366c503b86aecb593fbd'
            '17fc2f5784d080233aca16e788d62ab6fe3e57cf781b123cfe32767de97d6d3b')
validpgpkeys=('EF6E286DDA85EA2A4BA7DE684E2C6E8793298290')

package() {
  cd "$srcdir"
  install -Dm 644 ${pkgname}.desktop      ${pkgdir}/usr/share/applications/${pkgname}.desktop
  install -Dm 644 ${pkgname}.png          ${pkgdir}/usr/share/pixmaps/${pkgname}.png
  install -Dm 755 ${srcdir}/sandbox/sandboxed-tor-browser           ${pkgdir}/usr/bin/${pkgname}
}
